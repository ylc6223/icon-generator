# 产品需求文档 (PRD)
## Icon Extractor - AI图标提取与矢量化工具

**版本:** 1.0
**日期:** 2025-01-12
**状态:** 设计阶段

---

## 1. 产品概述

### 1.1 产品愿景
为非技术设计师提供极致简单的AI图标提取和矢量化工具，3步完成从大图到独立SVG图标的转换过程。

### 1.2 目标用户
- **主要用户群:** 非技术背景的设计师
- **技能水平:** 熟悉基础设计工具，但不熟悉SVG代码或复杂的技术参数
- **使用场景:** 从AI图标生成工具（如Midjourney、DALL-E等）获取的图标网格中提取和优化图标

### 1.3 核心价值主张
与Figma、Illustrator等专业工具相比，我们的核心优势是**极致简单**：
- 3步完成整个流程：上传 → 微调 → 导出
- 无需学习复杂工具
- 无需注册，完全免费，数据本地处理
- 专为AI图标输出优化

---

## 2. 功能需求

### 2.1 核心功能 (MVP)

#### 2.1.1 上传与识别
**用户故事:** 作为设计师，我想要上传包含多个图标的图片，让应用自动识别图标位置。

**功能描述:**
- 支持拖放上传或点击选择图片
- 支持格式：PNG, JPG, WebP
- 用户输入行列数（如4x4、5x5等）
- 应用根据网格自动切分图片
- 显示检测到的图标数量和预览
- 显示分步进度（如"检测中 3/16"）

**验收标准:**
- 支持最大 4096x4096px 图片
- 网格支持 2x2 到 16x16
- 切分响应时间 < 2秒

#### 2.1.2 边界微调
**用户故事:** 作为设计师，我想要手动调整图标的边界框，确保提取准确。

**功能描述:**
- 在原图上叠加显示所有边界框
- 拖拽边界框的四个角和四条边来调整大小
- 拖拽时显示实时预览
- 支持单个图标或批量选择调整
- 调整后自动更新图标预览

**验收标准:**
- 拖拽响应延迟 < 100ms
- 支持撤销/重做操作（最多5步，仅边界框操作）
- 支持键盘快捷键（Delete删除、Ctrl+Z撤销等）

#### 2.1.3 矢量化
**用户故事:** 作为设计师，我想要将位图图标转换为SVG格式，以便在任何尺寸下保持清晰。

**功能描述:**
- 提供3个预设模式：
  - **清晰:** 路径简化，适合简单的扁平图标
  - **平衡:** 质量和文件大小的平衡（默认）
  - **精细:** 保留更多细节，适合复杂图标
- 使用WebAssembly加速处理
- 显示处理进度

**验收标准:**
- 单个图标处理时间 < 1秒
- 16个图标批量处理 < 15秒
- 支持最多256个图标同时处理

#### 2.1.4 预览与对比
**用户故事:** 作为设计师，我想要对比原图和矢量化后的效果，确保质量满意。

**功能描述:**
- 点击任意图标打开侧边预览面板
- 左侧显示原始位图，右侧显示矢量化后的SVG
- 支持放大查看细节（2x, 4x, 8x）
- 显示SVG文件大小和节点数

**验收标准:**
- 预览面板打开时间 < 500ms
- 缩放切换流畅，无卡顿

#### 2.1.5 自定义标签
**用户故事:** 作为设计师，我想要为每个图标添加有意义的名称，导出时作为文件名。

**功能描述:**
- 在图标列表中显示标签输入框
- 支持批量命名（如icon-1, icon-2...）
- 支持智能建议（基于图标特征）
- 标签即文件名，导出时使用

**验收标准:**
- 标签长度限制在50字符以内
- 只允许安全字符（字母、数字、-、_）
- 防止重复标签

#### 2.1.6 质量检测
**用户故事:** 作为设计师，我想要知道哪些图标的矢量化质量不佳，以便重新调整。

**功能描述:**
- 自动检测矢量化质量（路径复杂度、文件大小异常等）
- 在图标上显示警告图标
- 点击查看具体问题（如"路径过于复杂"、"可能丢失细节"）
- 仅警告，不阻止导出

**验收标准:**
- 检测准确率 > 85%
- 误报率 < 10%

#### 2.1.7 导出
**用户故事:** 作为设计师，我想要将所有图标打包下载，方便后续使用。

**功能描述:**
- 选择要导出的图标（默认全选）
- 导出为ZIP文件，包含所有SVG
- 文件名使用自定义标签
- 显示导出进度

**验收标准:**
- 导出时间 < 3秒（16个图标）
- 支持最大100MB的ZIP文件

---

### 2.2 扩展功能 (v2.0)

#### 2.2.1 自动裁剪
**功能描述:**
- 自动检测并移除图标周围的透明边缘
- 确保所有图标尺寸紧凑一致
- 可选择添加统一的内边距

#### 2.2.2 AI标签生成
**功能描述:**
- 使用AI分析图标内容
- 自动生成描述性标签（如"home-icon", "user-profile"）
- 支持中英文标签
- 用户可编辑AI建议

#### 2.2.3 批量样式编辑
**功能描述:**
- 统一调整所有图标的颜色
- 批量设置描边粗细
- 调整图标尺寸

---

## 3. 非功能需求

### 3.1 性能
- 页面首次加载时间 < 3秒
- 图片上传响应时间 < 1秒
- 拖拽边界框响应延迟 < 100ms
- 矢量化处理速度：单个图标 < 1秒

### 3.2 可用性
- 无需用户手册，首次使用即可上手
- 所有操作在3个屏幕内完成
- 错误提示清晰，提供解决方案
- 支持撤销/重做

### 3.3 兼容性
- 浏览器支持：Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **仅支持桌面设备**（>=1024px宽度），平板和手机显示提示
- WebAssembly支持检测

### 3.4 隐私与安全
- 所有处理在浏览器本地完成
- 不收集用户数据
- 不上传图片到服务器
- 使用HTTPS（如果将来需要服务器功能）

### 3.5 可访问性
- 支持键盘导航
- 支持屏幕阅读器
- 颜色对比度符合WCAG AA标准

---

## 4. 用户体验设计

### 4.1 用户流程

```
1. 上传
   ├─ 拖放或选择图片
   ├─ 输入行列数（如4x4）
   └─ 预览检测结果

2. 微调
   ├─ 查看所有边界框
   ├─ 拖拽调整不准确的边界
   ├─ 点击图标预览效果
   └─ 添加自定义标签

3. 导出
   ├─ 选择矢量化预设（默认"平衡"）
   ├─ 查看质量警告（如有）
   └─ 点击导出，下载ZIP
```

### 4.2 界面布局

**三栏布局：**
```
┌─────────────────────────────────────────────────┐
│                   顶部导航栏                      │
├──────────┬──────────────────────────┬───────────┤
│ 左侧面板   │      主画布区域          │  右侧面板   │
│          │                        │           │
│ 图标列表   │   原图 + 边界框叠加       │  预览面板   │
│ 标签输入   │                        │  对比视图   │
│          │                        │  质量信息   │
│ 导出按钮   │                        │           │
└──────────┴──────────────────────────┴───────────┘
```

### 4.3 交互设计原则

1. **即时反馈**: 所有操作都有视觉反馈（hover、active、loading）
2. **可撤销**: 关键操作支持撤销
3. **渐进披露**: 默认简单界面，高级选项可展开
4. **智能默认**: 基于AI图标的特点预设合理的默认值

---

## 5. 成功指标

### 5.1 用户满意度
- 完成率 > 80%（上传到导出）
- 任务完成时间 < 5分钟
- 返回使用率 > 30%（30天内）

### 5.2 技术指标
- 矢量化准确率 > 90%
- 处理速度：比现有工具快3倍以上
- 崩溃率 < 0.1%

### 5.3 业务指标
- 月活用户 (MAU): 目标1000+（3个月内）
- 平均会话时长: > 5分钟
- 分享率: > 10%

---

## 6. 风险与限制

### 6.1 技术风险
- **WebAssembly兼容性**: 部分旧浏览器不支持，需要优雅降级
- **内存占用**: 大图片可能导致浏览器崩溃，需要分块处理
- **矢量化质量**: 算法可能对某些图标类型效果不佳，需要提供手动调整选项

### 6.2 用户风险
- **学习曲线**: 即使简单，新用户仍可能需要引导
- **质量期望**: 用户可能期望完美，需要管理期望值

### 6.3 竞争风险
- Figma/Illustrator插件可能提供类似功能
- 在线工具（如Vectorizer.ai）功能更强大

---

## 7. 发布计划

### 7.1 MVP (v1.0)
**时间:** 8周
**范围:**
- 核心上传、识别、微调、矢量化、导出功能
- 基础UI和交互
- 质量检测和警告

### 7.2 v2.0
**时间:** MVP后4-6周
**范围:**
- 自动裁剪
- AI标签生成
- 批量样式编辑

---

## 8. 附录

### 8.1 竞品分析
| 工具 | 优势 | 劣势 |
|------|------|------|
| Figma | 专业强大 | 学习曲线陡峭，需付费 |
| Illustrator | 行业标准 | 昂贵，复杂 |
| Vectorizer.ai | AI质量高 | 需上传，有隐私顾虑，付费 |
| 本产品 | 极简、免费、本地 | 功能较基础 |

### 8.2 用户访谈摘要
- **访谈对象:** 5名设计师
- **关键发现:**
  - 所有用户都表示现有工具过于复杂
  - 80%的用户处理AI生成的图标
  - 90%的用户愿意牺牲一些高级功能换取简单性
  - 最重要的功能是"边界调整"和"预览对比"

---

**文档变更历史:**
- 2025-01-12: 初始版本创建
